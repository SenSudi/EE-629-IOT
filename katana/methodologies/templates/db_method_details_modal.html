{% load static %}
<div class="modal-header" style="border:none;padding-bottom:0;">
	<div class="row">
		<div class="col-xs-6">
			<h4 id="modal-method-details-title" style="display:inline;text-shadow:1px 1px 1px #dad8d8;">
				Details for method <b>{{method.title}}</b>
			</h4>
		</div>
		<div class="col-xs-2">
			{% if deploy %}
				<button class="btn btn-warning pull-right popped btn-method-deploy" style="margin-left:20px;padding-top:2px;padding-bottom:2px;position:relative;top:-4px;">deploy updates</button>
			{% endif %}
		</div>
		<div class="col-xs-4" style="position:relative;top:-4px;">
			<div class="col-xs-12">
				{% include 'modal_control_btns.html' with edit=True refresh=True %}
			</div>
		</div>
	</div>
	{% if method.recommend %}
	<div class="row" style="padding:0;">
		<div class="col-xs-8">
				<span class="modal-method-recommend-alert" style="letter-spacing:1px;font-size:15px;left:10px;opacity:0.8;position:relative;top:7px;">
					<b>This method has been recommended as an update</b>
				</span>
				<button class="btn btn-success" id="btn-modal-method-recommend-approve" style="margin-left:20px;padding-top:2px;padding-bottom:2px;position:relative;top:4px;" data-obj-id="{{method.id}}">
					approve
				</button>
				<button class="btn btn-info" id="btn-modal-method-recommend-decline" style="margin-left:20px;padding-top:2px;padding-bottom:2px;position:relative;top:4px;" data-obj-id="{{method.id}}">
					decline
				</button>
		</div>
	</div>
	{% endif %}
	<hr class="modal-divider" style="margin-top:0px;">
</div>
<div class="modal-body" style="padding-top:15px;position:relative;min-height:40vh;">
	
	<div class="row details-modal-data-header">
		<div class="col-xs-1"></div>
		<div class="col-xs-2 text-center"><b>Sequence		</b></div>
		<div class="col-xs-2 text-center"><b># of Tasks		</b></div>
		<div class="col-xs-2 text-center"><b>Version		</b></div>
		<div class="col-xs-2 text-center"><b>Ancestor		</b></div>
		<div class="col-xs-2 text-center"><b>Descendant		</b></div>
	</div>
	
	<div class="row tdi">
		<div class="col-xs-1"></div>
		<div class="col-xs-2 text-center"><b>{{method.sequence}}		</b></div>
		<div class="col-xs-2 text-center"><b>{{method.task_count}}		</b></div>
		<div class="col-xs-2 text-center"><b>{{method.version}}			</b></div>
		<div class="col-xs-2 text-center"><b>{{method.has_ancestor}} 	</b></div>
		<div class="col-xs-2 text-center"><b>{{method.has_descendant}}	</b></div>
	</div>
	<br>
	<div class="row details-modal-data-header"><div class="col-xs-4"><b>Command</b></div></div>
	<div class="row tdi">
		<!-- <div class="col-xs-1">
			<i class="fa fa-clipboard btn db-method-copy-command" style="padding:0;">
				<textarea style="display:none;width:0;height:0;position:fixed;left:-99999px;" id="db-modal-method-command-text" class="db-method-command-text">
					{{method.command|linebreaksbr}}
				</textarea>
			</i>
		</div> -->
		<div class="col-xs-12"><b class="db-modal-method-command">{{method.command}}</b></div>
	</div>
	<br>
	<div class="row details-modal-data-header"><div class="col-xs-4"><b>Description</b></div></div>
	<div class="row tdi"><div class="col-xs-12"><b>{{method.description}}</b></div></div>
	<br>
	<div class="row details-modal-data-header"><div class="col-xs-4"><b>Base Help</b></div></div>
	<div class="row tdi"><div class="col-xs-12"><b>{{method.help_base}}</b></div></div>
	<br>
	<div class="row details-modal-data-header"><div class="col-xs-4"><b>Import Help</b></div></div>
	<div class="row tdi"><div class="col-xs-12"><b>{{method.help_import}}</b></div></div>
	<br>
	<br>
	<div class="row details-modal-data-header">
		<div class="col-xs-4">
			<b>Parent Project Type(s)</b>
		</div>
		<div class="col-xs-4">
			<b>Parent Phase</b>
		</div>
		<div class="col-xs-4">
			<b>Statistics</b>
		</div>
	</div>
	<div class="row tdi">
		<div class="col-xs-4">
			{% for ptype in method.project_type.all %}
				<div><b  class="btn db-modal-content-link" data-obj-id="{{ptype.id}}" data-url="/db_ptype_details/" style="white-space:pre;">   - {{ptype.title}}</b></div>
			{% endfor %}
		</div>
		<div class="col-xs-4">
			<div>
				{% if method.phase %}
				<b class="btn db-modal-content-link" data-obj-id="{{method.phase.id}}" data-url="/db_phase_details/" style="white-space:pre;">   - {{method.phase.title}}</b>
				{% else %}
				<b style="white-space:pre;">   - Not Associated With A Phase</b>
				{% endif %}
			</div>
		</div>
		<div class="col-xs-4">
			<div>
				<b style="position:relative;top:8px;">This method has {{all_time}} hours logged accross all projects</b>
			</div>
		</div>
	</div>
	<br>
	<div class="row details-modal-data-header">
		<div class="col-xs-4"><b>Files</b></div>
	</div>
	<div class="row tdi">
		{% for file in method.files.all %}
		<div class="col-xs-12"{%if not forloop.last%} style="border-bottom:solid 1px black;" {%endif%}><b>{% autoescape off %}{{file.a_tag}}{% endautoescape %}</b></div>
		{% endfor %}
	</div>
	<hr class="modal-divider" style="opacity:0.65;margin-top:10px;">
	<div class="row details-modal-data-header">
		<div class="col-xs-12">
			<b>Projects Containing Tasks Based On This Method</b>
		</div>
	</div>
	<div class="row tdi db-modal-method-projects">
		{% for task in method.task_set.all %}
			<div><b class="db-modal-method-project" style="white-space:pre;">   - <a href="projects/{{task.project.id}}" class="cppll" data-title="{{task.project.title}}">{{task.project.title}}</a></b></div>
			{%if not forloop.last%}
				<hr class="modal-divider" style="opacity:0.65;margin-top:2px;margin-bottom:2px;width:40%">
			{%endif%}
		{% endfor %}
	</div>
</div>